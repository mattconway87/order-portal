<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>12 Trinity - Order Portal</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            color: #242429;
            padding-bottom: 200px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: #252f42;
            color: white;
            padding: 30px 20px;
            text-align: center;
            margin-bottom: 30px;
            border-radius: 8px;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 8px;
        }

        .header .account-name {
            font-size: 16px;
            color: #be835c;
        }

        .delivery-section {
            background: white;
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 25px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .delivery-section h2 {
            font-size: 18px;
            margin-bottom: 20px;
            color: #252f42;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 15px;
        }

        .form-group textarea {
            min-height: 80px;
        }

        .toggle-container {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .toggle-option {
            flex: 1;
            padding: 12px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            text-align: center;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .toggle-option:hover {
            border-color: #be835c;
        }

        .toggle-option.active {
            background: #be835c;
            color: white;
            border-color: #be835c;
        }

        .product-tabs {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            justify-content: center;
        }

        .tab-button {
            background: white;
            border: 3px solid #e0e0e0;
            padding: 15px 40px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 18px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .tab-button:hover {
            border-color: #be835c;
        }

        .tab-button.active {
            border-color: #be835c;
            background: #fff8f3;
        }

        .products-section {
            background: white;
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 25px;
        }

        .products-section h2 {
            font-size: 20px;
            margin-bottom: 20px;
        }

        .wine-note {
            background: #fff8f3;
            border-left: 4px solid #be835c;
            padding: 12px 16px;
            margin-bottom: 20px;
            font-size: 14px;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

        .product-card {
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
        }

        .product-name {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .product-price {
            font-size: 20px;
            font-weight: 700;
            color: #be835c;
            margin-bottom: 15px;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .qty-button {
            width: 36px;
            height: 36px;
            border: 2px solid #be835c;
            background: white;
            color: #be835c;
            border-radius: 6px;
            font-size: 18px;
            cursor: pointer;
        }

        .qty-button:hover {
            background: #be835c;
            color: white;
        }

        .qty-button:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .qty-display {
            min-width: 40px;
            text-align: center;
            font-size: 16px;
            font-weight: 600;
        }

        .add-to-cart-btn {
            width: 100%;
            padding: 12px;
            background: #be835c;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
        }

        .add-to-cart-btn:hover {
            background: #a66d4a;
        }

        .add-to-cart-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .cart-section {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top: 3px solid #be835c;
            padding: 20px;
            box-shadow: 0 -4px 12px rgba(0,0,0,0.1);
            z-index: 1000;
        }

        .cart-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .cart-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .cart-title {
            font-size: 18px;
            font-weight: 600;
        }

        .cart-total {
            font-size: 24px;
            font-weight: 700;
            color: #be835c;
        }

        .cart-items {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 15px;
            max-height: 100px;
            overflow-y: auto;
        }

        .cart-item {
            background: #f5f5f5;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 13px;
            display: flex;
            gap: 8px;
        }

        .cart-item-remove {
            background: #ff4444;
            color: white;
            border: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            cursor: pointer;
        }

        .submit-order-btn {
            width: 100%;
            padding: 16px;
            background: #252f42;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
        }

        .submit-order-btn:hover {
            background: #1a2332;
        }

        .submit-order-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            max-width: 600px;
            padding: 30px;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-title {
            font-size: 22px;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .modal-text {
            font-size: 15px;
            line-height: 1.8;
            margin-bottom: 25px;
            white-space: pre-line;
        }

        .modal-btn {
            width: 100%;
            padding: 14px;
            background: #be835c;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
        }

        .modal-btn:hover {
            background: #a66d4a;
        }

        .message {
            padding: 15px 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .message-success {
            background: #d4edda;
            color: #155724;
        }

        .message-error {
            background: #f8d7da;
            color: #721c24;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const PRODUCTS = {
            'Spirit of York': [
                { id: 'soy-vodka', name: 'Spirit of York Vodka', price: 36.08 },
                { id: 'soy-gin', name: 'Spirit of York Gin', price: 36.08 },
                { id: 'soy-whisky', name: 'Spirit of York Whisky', price: 57.30, allowedAccounts: ['ADMIN001'] },
                { id: 'soy-aquavit', name: 'Spirit of York Aquavit', price: 39.63 },
                { id: 'soy-coffee', name: 'Spirit of York Coffee Liqueur', price: 23.70 },
                { id: 'soy-aperitivo', name: 'Spirit of York Aperitivo', price: 23.70, allowedAccounts: ['ADMIN001'] },
                { id: 'soy-citruscello', name: 'Spirit of York Citruscello', price: 23.70, allowedAccounts: ['ADMIN001'] },
                { id: 'distl-vodka', name: 'Spirit of York: DISTL Vodka', price: 27.68 },
                { id: 'distl-gin', name: 'Spirit of York: DISTL Gin', price: 31.66 },
                { id: 'distl-whisky', name: 'Spirit of York: DISTL Canadian Whisky', price: 29.63 },
                { id: 'distl-pink', name: 'Spirit of York: DISTL Flawless Pink Gin', price: 31.66 },
                { id: 'distl-chili', name: 'Spirit of York: DISTL Ancho Chilli Liqueur', price: 31.66 },
                { id: 'distl-sweet-tea', name: 'Spirit of York: DISTL Sweet Tea Liqueur', price: 31.66, allowedAccounts: ['ADMIN001'] },
                { id: 'distl-orange-liq', name: 'Spirit of York: DISTL Orange Liqueur', price: 31.66, allowedAccounts: ['ADMIN001'] },
                { id: 'distl-peach-rtd', name: 'Spirit of York: DISTL Peach Blueberry RTD', price: 2.31 },
                { id: 'distl-rasp-rtd', name: 'Spirit of York: DISTL Raspberry Lemon RTD', price: 2.31 },
                { id: 'distl-signature-gin', name: 'Spirit of York: DISTL Signature Gin', price: 28.14, allowedAccounts: ['3YBBY8SD', '1B2VHWPH', 'NBYUKKMV', '4GALK4CC', '0PHR4APK', '4GRBZBC4', 'RFMRTZ9J', 'VLY88JJW', '0IB5SNPS', '4O4TUYR5', '9K0KUXPA', 'LAX2DYA3'] },
                { id: 'distl-orange-vodka', name: 'Spirit of York: DISTL Orange Vodka', price: 30.75, allowedAccounts: ['ZNH52R5H', 'C3AD3EZM'] },
                { id: 'distl-cherry-vodka', name: 'Spirit of York: DISTL Cherry Vodka', price: 20.13, allowedAccounts: ['ZNH52R5H', 'C3AD3EZM'] },
                { id: 'distl-sour-poet', name: 'Spirit of York: DISTL Sour Poet', price: 19.25, allowedAccounts: ['NQ7C553C'] },
                { id: 'case-vodka', name: 'Spirit of York Vodka Case', price: 64.00, allowedAccounts: ['844YRPRC', '7FTWKS5S'] },
                { id: 'case-gin', name: 'Spirit of York Gin Case', price: 80.00, allowedAccounts: ['844YRPRC', '7FTWKS5S'] },
                { id: 'case-whisky', name: 'Spirit of York Whisky Case', price: 93.33, allowedAccounts: ['844YRPRC', '7FTWKS5S'] },
                { id: 'case-distl-pink', name: 'Spirit of York: DISTL Flawless Pink Gin Case (12)', price: 117.34, allowedAccounts: ['844YRPRC', '7FTWKS5S'] },
                { id: 'case-distl-gin', name: 'Spirit of York: DISTL Gin Case', price: 138.67, allowedAccounts: ['844YRPRC', '7FTWKS5S'] }
            ],
            'The Grange': [
                { id: 'grange-almanac-white', name: 'Grange 24 F Almanac White', price: 12.55, isWine: true },
                { id: 'grange-estate-chard', name: 'Grange 24 E Chardonnay', price: 25.50, isWine: true },
                { id: 'grange-estate-cab', name: 'Grange 24 E Cabernet Franc', price: 28.80, isWine: true },
                { id: 'grange-estate-pinot', name: 'Grange 24 E Pinot Noir', price: 28.80, isWine: true },
                { id: 'grange-aurelia-chard', name: 'Grange 23 A Chardonnay', price: 58.50, isWine: true },
                { id: 'grange-aurelia-pinot', name: 'Grange 23 A Pinot Noir', price: 58.50, isWine: true },
                { id: 'grange-aurelia-cab', name: 'Grange 23 A Cabernet Franc', price: 58.50, isWine: true },
                { id: 'grange-lafontaine', name: 'Grange 21 A LaFontaine Brut', price: 52.20, isWine: true }
            ]
        };

        function OrderPortal() {
            const [accountCode, setAccountCode] = useState('');
            const [accountName, setAccountName] = useState('');
            const [allAccounts, setAllAccounts] = useState([]);
            const [selectedBrand, setSelectedBrand] = useState('Spirit of York');
            const [deliveryDate, setDeliveryDate] = useState('');
            const [deliveryMethod, setDeliveryMethod] = useState('delivery');
            const [specialInstructions, setSpecialInstructions] = useState('');
            const [cart, setCart] = useState([]);
            const [quantities, setQuantities] = useState({});
            const [isSubmitting, setIsSubmitting] = useState(false);
            const [message, setMessage] = useState({ type: '', text: '' });
            const [showWineModal, setShowWineModal] = useState(false);
            const [showSpiritModal, setShowSpiritModal] = useState(false);
            const [pendingCartItem, setPendingCartItem] = useState(null);
            const [wineAck, setWineAck] = useState(false);
            const [spiritAck, setSpiritAck] = useState(false);

            useEffect(() => {
                const params = new URLSearchParams(window.location.search);
                const code = params.get('account');
                
                fetch('./12-trinity-all-accounts.csv')
                    .then(res => res.text())
                    .then(csv => {
                        const lines = csv.split('\n');
                        const accounts = [];
                        
                        for (let i = 1; i < lines.length; i++) {
                            const line = lines[i].trim().replace(/\r/g, '');
                            if (!line) continue;
                            
                            const parts = line.split(',');
                            if (parts.length >= 2) {
                                const accCode = parts[0].trim();
                                const accName = parts[1].trim().replace(/"/g, '');
                                accounts.push({ code: accCode, name: accName });
                                
                                if (code && accCode === code) {
                                    setAccountCode(code);
                                    setAccountName(accName);
                                }
                            }
                        }
                        
                        setAllAccounts(accounts);
                        
                        if (code && !accountName) {
                            setAccountCode(code);
                            setAccountName(code);
                        }
                    })
                    .catch(err => {
                        console.error('CSV load error:', err);
                        if (code) {
                            setAccountCode(code);
                            setAccountName(code);
                        }
                    });
            }, []);

            const isAdmin = accountCode === 'ADMIN001';

            // Generate next Mon/Wed/Fri dates
            const getDeliveryDates = () => {
                const dates = [];
                const today = new Date();
                const daysToCheck = 21; // 3 weeks
                
                for (let i = 0; i < daysToCheck; i++) {
                    const date = new Date(today);
                    date.setDate(today.getDate() + i);
                    const dayOfWeek = date.getDay();
                    
                    // 1 = Monday, 3 = Wednesday, 5 = Friday
                    if (dayOfWeek === 1 || dayOfWeek === 3 || dayOfWeek === 5) {
                        const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
                                          'July', 'August', 'September', 'October', 'November', 'December'];
                        const dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
                        
                        const formatted = `${monthNames[date.getMonth()]} ${date.getDate()} (${dayNames[dayOfWeek]})`;
                        const value = date.toISOString().split('T')[0];
                        
                        dates.push({ formatted, value });
                    }
                }
                
                return dates;
            };

            const deliveryDates = getDeliveryDates();

            const handleQuantityChange = (productId, delta, isWine) => {
                const currentQty = quantities[productId] || 0;
                let newQty = currentQty + delta;

                if (isWine) {
                    if (delta > 0) newQty = Math.ceil(newQty / 12) * 12;
                    else newQty = Math.max(0, Math.floor(newQty / 12) * 12);
                } else {
                    newQty = Math.max(0, newQty);
                }

                setQuantities(prev => ({ ...prev, [productId]: newQty }));
            };

            const handleAddToCart = (product) => {
                const qty = quantities[product.id] || 0;
                if (qty === 0) return;

                if (product.isWine && !isAdmin && !wineAck) {
                    setPendingCartItem({ product, qty });
                    setShowWineModal(true);
                    return;
                }

                if (!product.isWine && !isAdmin && !spiritAck) {
                    setPendingCartItem({ product, qty });
                    setShowSpiritModal(true);
                    return;
                }

                addItemToCart(product, qty);
            };

            const addItemToCart = (product, qty) => {
                setCart(prev => [...prev, {
                    ...product,
                    quantity: qty,
                    subtotal: product.price * qty
                }]);
                setQuantities(prev => ({ ...prev, [product.id]: 0 }));
            };

            const handleWineAck = () => {
                setWineAck(true);
                setShowWineModal(false);
                if (pendingCartItem) {
                    addItemToCart(pendingCartItem.product, pendingCartItem.qty);
                    setPendingCartItem(null);
                }
            };

            const handleSpiritAck = () => {
                setSpiritAck(true);
                setShowSpiritModal(false);
                if (pendingCartItem) {
                    addItemToCart(pendingCartItem.product, pendingCartItem.qty);
                    setPendingCartItem(null);
                }
            };

            const removeFromCart = (index) => {
                setCart(prev => prev.filter((_, i) => i !== index));
            };

            const cartTotal = cart.reduce((sum, item) => sum + item.subtotal, 0);

            const handleSubmitOrder = async () => {
                if (cart.length === 0) return;
                if (!deliveryDate) {
                    setMessage({ type: 'error', text: 'Please select a delivery date' });
                    return;
                }

                setIsSubmitting(true);
                setMessage({ type: '', text: '' });

                try {
                    const orderData = {
                        accountCode,
                        accountName,
                        deliveryDate,
                        deliveryMethod,
                        specialInstructions,
                        items: cart,
                        total: cartTotal,
                        timestamp: new Date().toISOString(),
                        containsWine: cart.some(item => item.isWine)
                    };

                    await fetch('https://script.google.com/macros/s/AKfycbyIxrZul2bWgcgPY4vA5f8pbEaxo857Z9tcAiZs4he-cKjMsnQj2X0FX1TLaxNzRpjK/exec', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(orderData),
                        mode: 'no-cors'
                    });

                    setMessage({ type: 'success', text: 'Order submitted successfully!' });
                    setCart([]);
                    setQuantities({});
                    setDeliveryDate('');
                    setSpecialInstructions('');
                    setWineAck(false);
                    setSpiritAck(false);
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                } catch (error) {
                    setMessage({ type: 'error', text: 'Error submitting order.' });
                }

                setIsSubmitting(false);
            };

            const filterProducts = (products) => {
                return products.filter(product => {
                    if (!product.allowedAccounts) return true;
                    if (product.allowedAccounts.includes('ADMIN001') && !isAdmin) return false;
                    if (isAdmin) return true;
                    return product.allowedAccounts.includes(accountCode);
                });
            };

            const currentProducts = filterProducts(PRODUCTS[selectedBrand] || []);
            const isWineTab = selectedBrand === 'The Grange';

            return (
                <div className="container">
                    <div className="header">
                        <h1>12 TRINITY</h1>
                        <div className="account-name">{accountName}</div>
                    </div>

                    {message.text && (
                        <div className={`message message-${message.type}`}>
                            {message.text}
                        </div>
                    )}

                    {isAdmin && (
                        <div className="delivery-section" style={{background: '#fff8f3', border: '2px solid #be835c'}}>
                            <h2>Admin: Order On Behalf Of</h2>
                            <div className="form-group">
                                <label>Select Account</label>
                                <select 
                                    value={accountCode} 
                                    onChange={(e) => {
                                        const selected = allAccounts.find(acc => acc.code === e.target.value);
                                        if (selected) {
                                            setAccountCode(selected.code);
                                            setAccountName(selected.name);
                                        }
                                    }}
                                >
                                    {allAccounts.map(acc => (
                                        <option key={acc.code} value={acc.code}>
                                            {acc.name} ({acc.code})
                                        </option>
                                    ))}
                                </select>
                            </div>
                        </div>
                    )}

                    <div className="delivery-section">
                        <h2>Delivery Information</h2>
                        <div className="form-group">
                            <label>Requested Delivery Date</label>
                            <select 
                                value={deliveryDate}
                                onChange={(e) => setDeliveryDate(e.target.value)}
                            >
                                <option value="">Select a delivery date...</option>
                                {deliveryDates.map(date => (
                                    <option key={date.value} value={date.value}>
                                        {date.formatted}
                                    </option>
                                ))}
                            </select>
                        </div>
                        <div style={{fontSize: '13px', color: '#666', marginTop: '-10px', marginBottom: '15px'}}>
                            Note: For pickup, please contact your ambassador
                        </div>
                    </div>

                    <div className="product-tabs">
                        <button
                            className={`tab-button ${selectedBrand === 'Spirit of York' ? 'active' : ''}`}
                            onClick={() => setSelectedBrand('Spirit of York')}
                        >
                            Spirit of York
                        </button>
                        <button
                            className={`tab-button ${selectedBrand === 'The Grange' ? 'active' : ''}`}
                            onClick={() => setSelectedBrand('The Grange')}
                        >
                            The Grange
                        </button>
                    </div>

                    <div className="products-section">
                        <h2>{selectedBrand}</h2>
                        {isWineTab && (
                            <div className="wine-note">
                                ℹ️ Wine is ordered by the case (12 bottles)
                            </div>
                        )}
                        <div className="products-grid">
                            {currentProducts.map(product => (
                                <div key={product.id} className="product-card">
                                    <div className="product-name">{product.name}</div>
                                    {product.isWine ? (
                                        <div className="product-price">
                                            <div>${product.price.toFixed(2)} /bottle</div>
                                            <div style={{fontSize: '16px', color: '#666'}}>${(product.price * 12).toFixed(2)} /case</div>
                                        </div>
                                    ) : (
                                        <div className="product-price">${product.price.toFixed(2)}</div>
                                    )}
                                    
                                    <div className="quantity-controls">
                                        <button 
                                            className="qty-button"
                                            onClick={() => handleQuantityChange(product.id, product.isWine ? -12 : -1, product.isWine)}
                                            disabled={(quantities[product.id] || 0) === 0}
                                        >
                                            −
                                        </button>
                                        <div className="qty-display">{quantities[product.id] || 0}</div>
                                        <button 
                                            className="qty-button"
                                            onClick={() => handleQuantityChange(product.id, product.isWine ? 12 : 1, product.isWine)}
                                        >
                                            +
                                        </button>
                                    </div>
                                    <button 
                                        className="add-to-cart-btn"
                                        onClick={() => handleAddToCart(product)}
                                        disabled={(quantities[product.id] || 0) === 0}
                                    >
                                        Add to Cart
                                    </button>
                                </div>
                            ))}
                        </div>
                    </div>

                    <div className="cart-section">
                        <div className="cart-content">
                            <div className="cart-header">
                                <div className="cart-title">Your Order ({cart.length} items)</div>
                                <div className="cart-total">${cartTotal.toFixed(2)}</div>
                            </div>
                            {cart.length > 0 && (
                                <div className="cart-items">
                                    {cart.map((item, index) => (
                                        <div key={index} className="cart-item">
                                            {item.name} × {item.quantity} = ${item.subtotal.toFixed(2)}
                                            <button 
                                                className="cart-item-remove"
                                                onClick={() => removeFromCart(index)}
                                            >
                                                ×
                                            </button>
                                        </div>
                                    ))}
                                </div>
                            )}
                            <button 
                                className="submit-order-btn"
                                onClick={handleSubmitOrder}
                                disabled={isSubmitting || !deliveryDate || cart.length === 0}
                            >
                                {isSubmitting ? 'Submitting...' : 'Submit Order'}
                            </button>
                        </div>
                    </div>

                    {showWineModal && (
                        <div className="modal-overlay">
                            <div className="modal-content">
                                <div className="modal-title">Wine Shipping Information</div>
                                <div className="modal-text">
                                    Shipnoble picks up in Prince Edward County on Mondays, Wednesdays, and Saturdays.
                                    
                                    Please note, Shipnoble does not deliver to the GTA on weekends.
                                    
                                    May-Nov: Orders before noon Monday reach GTA that week
                                    Dec-Apr: Orders before noon Wednesday reach GTA Thu-Wed
                                    
                                    Local delivery: Orders by end of day Wed for Thu delivery
                                </div>
                                <button className="modal-btn" onClick={handleWineAck}>
                                    I Understand
                                </button>
                            </div>
                        </div>
                    )}

                    {showSpiritModal && (
                        <div className="modal-overlay">
                            <div className="modal-content">
                                <div className="modal-title">Delivery Information</div>
                                <div className="modal-text">
                                    Please note for deliveries in the GTA turnaround is 48-72 hours. Orders elsewhere delivery time will vary.
                                    
                                    We try our best to get orders out as fast as possible. In case of an emergency contact your ambassador.
                                </div>
                                <button className="modal-btn" onClick={handleSpiritAck}>
                                    I Understand
                                </button>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        ReactDOM.render(<OrderPortal />, document.getElementById('root'));
    </script>
</body>
</html>
